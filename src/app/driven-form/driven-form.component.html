<section>
<form #drivenForm="ngForm" (ngSubmit)="onSubmit()">
    <div class="field">
        <label class="label" for="email">Email</label>
        <div class="control has-icons-left has-icons-right">
            <input #emailControl="ngModel"
                   [class.is-danger]="emailControl.invalid && emailControl.dirty"
                   [class.is-success]="emailControl.valid"
                   class="input"
                   id="email"
                   name="email"
                   ngModel
                   pattern="[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?"
                   required
                   type="email">
            <span class="icon is-small is-left">
                    <i class="fas fa-at"></i>
            </span>
            <span *ngIf="emailControl.valid; else elseEmailField" class="icon is-small is-right">
                    <i class="fas fa-check"></i>
                </span>
            <ng-template #elseEmailField>
                    <span class="icon is-small is-right">
                    <i class="fas fa-times"></i>
                    </span>
            </ng-template>
            <div *ngIf="emailControl.errors?.required && emailControl.dirty" class="help is-danger">
                <p>Email is required</p>
            </div>
            <div *ngIf="emailControl.errors?.pattern && emailControl.dirty" class="help is-danger">
                <p>Enter a valid email</p>
            </div>
        </div>
    </div>

    <div class="field">
        <label class="label" for="password">Password</label>
        <div class="control has-icons-left has-icons-right">
            <input #passwordControl="ngModel"
                   [class.is-danger]="passwordControl.invalid && passwordControl.dirty"
                   [class.is-success]="passwordControl.valid"
                   class="input"
                   id="password"
                   maxlength="20"
                   minlength="5"
                   name="password"
                   ngModel
                   required
                   type="password">
            <span class="icon is-small is-left">
                    <i class="fas fa-key"></i>
            </span>
            <span *ngIf="passwordControl.valid; else elsePasswordField" class="icon is-small is-right">
                    <i class="fas fa-check"></i>
                </span>
            <ng-template #elsePasswordField>
                    <span class="icon is-small is-right">
                    <i class="fas fa-times"></i>
                    </span>
            </ng-template>
            <span *ngIf="passwordControl.errors?.required && passwordControl.dirty" class="help is-danger">
                Password is required
            </span>
            <span *ngIf="passwordControl.errors?.minlength && passwordControl.dirty" class="help is-danger">
                Minimal length are 5
            </span>
            <span *ngIf="passwordControl.errors?.maxlength && passwordControl.dirty" class="help is-danger">
                Minimal length are 5
            </span>
        </div>
    </div>
    <button [disabled]="drivenForm.invalid"
            class="button is-success my-3"
            type="submit">Submit
    </button>

</form>
</section>
